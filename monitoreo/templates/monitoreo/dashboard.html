{% extends "base.html" %} {% load static %}

{% block title %}Dashboard en Tiempo Real{% endblock %}

{% block content %}
<h1 class="mb-4">Dashboard Principal</h1>

<p class="lead text-muted">Datos de Temperatura, Humedad e Iluminación de Sonora</p>
<hr>

<div class="row row-cols-1 row-cols-md-3 g-4" id="realtime-cards">
    <div class="col-12 text-center py-5">
        <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Cargando...</span>
        </div>
        <p class="mt-2">Conectado a MQTT, esperando la primera publicación en `sonora/#`...</p>
    </div>
</div>

<hr class="mt-5">

<h2 class="mb-3">Explorar Historial por Municipio</h2>
<div class="list-group">
    {% for municipio in municipios %}
    <a href="{% url 'municipio_detail' municipio_name=municipio %}" class="list-group-item list-group-item-action">
        **{{ municipio|capfirst }}** - Ver Historial y Gráficas de Tendencia
    </a>
    {% empty %}
    {% endfor %}
</div>

{% endblock %}

{% block extra_js %}
<script src="{% static 'monitoreo/js/charts.js' %}"></script>
{% endblock %}